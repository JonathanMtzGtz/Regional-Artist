<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Registro</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <style>
        body{
            background-color: #ff70db11;
        }
        .container {
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            max-width: 1200px;
            margin: 0 auto;
            height: 100vh;
        }
        .form-card, .image-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .form-card {
            margin-right: 10px;
        }
        .image-section {
            background: url('/images/imgform.jpg') no-repeat center center;
            background-size: cover;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .image-section h2 {
            font-size: 2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
        }
        .image-section p {
            font-size: 1.2em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
        }
        .card-title {
            text-align: center;
            margin-bottom: 30px;
            margin-top: 30px;
            font-size: 1.5em;
            font-weight: bold;
            color: #000000;
        }
        .form-group label {
            font-weight: bold;
            color: #333;
        }
        .btn-primary {
            background-color: #4FD1C5;
            border: none;
            font-size: 1em;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .btn-primary:hover {
            background-color: #007bff;
        }
    </style>
</head>
<body>
    <nav class="navbar-home">
        <div class="logo-home">
            <img src="images/log.svg" alt="Logo">
        </div>
        <ul class="nav-menu-home">
            <li><a href="/index.html">Inicio</a></li>
            <li><a href="#reglas">Reglas</a></li>
            <li><a href="#jurado">Jurado</a></li>
            <li><a href="#instrucciones">Instrucciones</a></li>
            <li><a href="#participa">Participa</a></li>
            <li><a href="#mas-informacion">Más Información</a></li>
            <li><a href="admin.html">Login</a></li>
        </ul>
    </nav>
    <div class="container mt-5">
        <div class="form-card card mx-auto">
            <div class="card-body">
                <h2 class="card-title">Conviértete en un Regional Artist: Diseña el Futuro. ¡Participa Ahora!</h2>
                <form id="registroForm">
                    <div class="form-group">
                        <label for="nombre">Nombre</label>
                        <input type="text" class="form-control" id="nombre" name="nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="apeidos">Apellidos</label>
                        <input type="text" class="form-control" id="apeidos" name="apeidos" required>
                    </div>
                    <div class="form-group">
                        <label for="edad">Edad</label>
                        <input min="18" max="100" type="number" class="form-control" id="edad" name="edad" required>
                    </div>
                    <div class="form-group">
                        <label for="escuela">Escuela</label>
                        <input type="text" class="form-control" id="escuela" name="escuela" required>
                    </div>
                    <div class="form-group">
                        <label for="telefono">Teléfono</label>
                        <input type="tel" class="form-control" id="telefono" name="telefono" required>
                    </div>
                    <div class="form-group">
                        <label for="region">Región</label>
                        <input type="text" class="form-control" id="region" name="region" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="conociendo">Cómo te enteraste de nosotros?</label>
                        <select name="conociendo" id="conociendo" class="form-control" required>
                            <option value="Escuelas/Universidades">Escuelas/Universidades</option>
                            <option value="Activaciones">Activaciones</option>
                            <option value="Influencers">Influencers</option>
                            <option value="Impresos">Impresos</option>
                            <option value="Redes sociales">Redes sociales</option>
                            <option value="Publicidad ohomoda">Publicidad ohomoda</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="file">Archivo (PDF)</label>
                        <input type="file" class="form-control-file" id="file" name="file" accept="application/pdf" required>
                        <div id="fileFeedback" class="invalid-feedback">
                            Por favor, selecciona un archivo PDF válido.
                        </div>
                    </div>
                    <div class="form-group">
                        <embed id="filePreview" type="application/pdf" width="100%" height="500px" style="display: none;">
                    </div>
                    <div class="form-group">
                        <label for="comentario">Comentario</label>
                        <textarea class="form-control" id="comentario" name="comentario" rows="3" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Participar</button>
                </form>
            </div>
        </div>
        <div class="image-section">
            <h2>Instrucciones</h2>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ea, praesentium! Aperiam beatae rerum hic, itaque iure officia ad impedit, quam fugiat provident qui at molestias possimus fuga expedita laboriosam tempora.Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ea, praesentium! Aperiam beatae rerum hic, itaque iure officia ad impedit, quam fugiat provident qui at molestias possimus fuga expedita laboriosam tempora.
                </p>
        </div>
    </div>
    <footer>
        <div class="footer">
        <div class="linia">

        </div>
            <div class="row my-5">
                <div class="col-12 col-sm-6 col-md-6 image-footer">
                    <img src="images/logo.png" alt="" width="200px">
                </div>
                <div class="col-12 col-sm-6 col-md-6 conten-footer">
                    <div class="text-footer">
                        <div class="contacto-footer"> 
                            <p>Contacto</p>
                            <p>Horario de atencion</p>
                            <br>
                            <p>correo</p>
                        </div>
                      
                        <div>
                            <p class="text-white">
                                800 600 4060
                            </p>
                            <p class="text-white">
                                Lunes a Viernes de 9:00 a 18:00 hrs.<br>
                                Sábado: 10:00 a 14:00 hrs.
                            </p>
                            <p class="text-white">
                                contacto@omoda.mx
                            </p>
                        </div>
                       

                    </div>
                   
                </div>
            </div>

            <div class="linia-2">

            </div>



        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#file').on('change', function(event) {
                const file = event.target.files[0];
                const fileType = file ? file.type : '';
                const validFileTypes = ['application/pdf'];

                if (!validFileTypes.includes(fileType)) {
                    $('#file').addClass('is-invalid');
                    $('#fileFeedback').show();
                    $('#filePreview').hide();
                    $('#file').val(''); // Limpiar el campo de file
                } else {
                    $('#file').removeClass('is-invalid');
                    $('#fileFeedback').hide();

                    const fileReader = new FileReader();
                    fileReader.onload = function() {
                        $('#filePreview').attr('src', fileReader.result);
                        $('#filePreview').show();
                    };
                    fileReader.readAsDataURL(file);
                }
            });

            $('#registroForm').on('submit', function(event) {
                event.preventDefault();

                if ($('#file').hasClass('is-invalid')) {
                    alert('Por favor, selecciona un file PDF válido.');
                    return;
                }

                const formData = new FormData(this);

                fetch('http://localhost:3001/api/regionalartist/saveusuario', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    alert('Formulario enviado exitosamente.');
                })
            });
        });


        function validarNombre(input) { 
            // Eliminar números
            let valor = input.value.replace(/[0-9]/g, '');
            
            // Convertir la primera letra después de cada espacio a mayúscula y el resto a minúscula
            valor = valor.toLowerCase().replace(/\b\w/g, function (letra) {
                return letra.toUpperCase();
            });

            // Actualizar el valor del input
            input.value = valor;
        }


        function validarTelefono(input) {
            // Eliminar cualquier carácter que no sea un número
            let valor = input.value.replace(/\D/g, '');
            
            // Limitar el valor a 10 dígitos
            if (valor.length > 10) {
                valor = valor.slice(0, 10);
            }
            
            // Actualizar el valor del input
            input.value = valor;

            // Validar la longitud del número
            if (valor.length === 10) {
                input.setCustomValidity('');
            } else {
                input.setCustomValidity('El número de teléfono debe tener 10 dígitos');
            }
        }
    </script>
</body>
</html>